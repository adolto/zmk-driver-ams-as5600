#ifndef ZMK_INPUT_AMS_AS5600_CONFIG_H
#define ZMK_INPUT_AMS_AS5600_CONFIG_H

#include <stdint.h>
#include <zephyr/sys/util_macro.h>

#define ZMK_INPUT_AMS_AS5600_POWER_MODE_BYTE0_SHIFT 0x00
#define ZMK_INPUT_AMS_AS5600_HYSTERESIS_BYTE0_SHIFT 0x02
#define ZMK_INPUT_AMS_AS5600_SLOW_FILTER_BYTE1_SHIFT 0x00
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT 0x02
#define ZMK_INPUT_AMS_AS5600_WATCHDOG_TIMER_BYTE1_SHIFT 0x05

#define ZMK_INPUT_AMS_AS5600_POWER_MODE_NOM 0x00
#define ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM1 0x01
#define ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM2 0x02
#define ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM3 0x03

#define ZMK_INPUT_AMS_AS5600_HYSTERESIS_OFF 0x00
#define ZMK_INPUT_AMS_AS5600_HYSTERESIS_1LSB 0x01
#define ZMK_INPUT_AMS_AS5600_HYSTERESIS_2LSB 0x02
#define ZMK_INPUT_AMS_AS5600_HYSTERESIS_3LSB 0x03

#define ZMK_INPUT_AMS_AS5600_SLOW_FILTER_16X 0x00
#define ZMK_INPUT_AMS_AS5600_SLOW_FILTER_8X 0x01
#define ZMK_INPUT_AMS_AS5600_SLOW_FILTER_4X 0x02
#define ZMK_INPUT_AMS_AS5600_SLOW_FILTER_2X 0x03

#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_SLOW_FILTER_ONLY 0x00
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_6LSB 0x01
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_7LSB 0x02
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_9LSB 0x03
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_18LSB 0x04
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_21LSB 0x05
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_24LSB 0x06
#define ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_10LSB 0x07

#define ZMK_INPUT_AMS_AS5600_WATCHDOG_TIMER_ENABLED 0x01

const uint8_t ZMK_INPUT_AMS_AS5600_CONFIG[2] = {

/* Byte 0 */

/* Power Mode */
#if IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_POWER_MODE_NOM)
    (ZMK_INPUT_AMS_AS5600_POWER_MODE_NOM << ZMK_INPUT_AMS_AS5600_POWER_MODE_BYTE0_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM1)
    (ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM1 << ZMK_INPUT_AMS_AS5600_POWER_MODE_BYTE0_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM2)
    (ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM2 << ZMK_INPUT_AMS_AS5600_POWER_MODE_BYTE0_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM3)
    (ZMK_INPUT_AMS_AS5600_POWER_MODE_LPM3 << ZMK_INPUT_AMS_AS5600_POWER_MODE_BYTE0_SHIFT) |
#endif

/* Hysteresis */
#if IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_HYSTERESIS_OFF)
    (ZMK_INPUT_AMS_AS5600_HYSTERESIS_OFF << ZMK_INPUT_AMS_AS5600_HYSTERESIS_BYTE0_SHIFT)
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_HYSTERESIS_1LSB)
    (ZMK_INPUT_AMS_AS5600_HYSTERESIS_1LSB << ZMK_INPUT_AMS_AS5600_HYSTERESIS_BYTE0_SHIFT)
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_HYSTERESIS_2LSB)
    (ZMK_INPUT_AMS_AS5600_HYSTERESIS_2LSB << ZMK_INPUT_AMS_AS5600_HYSTERESIS_BYTE0_SHIFT)
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_HYSTERESIS_3LSB)
    (ZMK_INPUT_AMS_AS5600_HYSTERESIS_3LSB << ZMK_INPUT_AMS_AS5600_HYSTERESIS_BYTE0_SHIFT)
#endif

,

/* Byte 1 */

/* Slow Filter */
#if IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_SLOW_FILTER_16X)
    (ZMK_INPUT_AMS_AS5600_SLOW_FILTER_16X << ZMK_INPUT_AMS_AS5600_SLOW_FILTER_BYTE1_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_SLOW_FILTER_8X)
    (ZMK_INPUT_AMS_AS5600_SLOW_FILTER_8X << ZMK_INPUT_AMS_AS5600_SLOW_FILTER_BYTE1_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_SLOW_FILTER_4X)
    (ZMK_INPUT_AMS_AS5600_SLOW_FILTER_4X << ZMK_INPUT_AMS_AS5600_SLOW_FILTER_BYTE1_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_SLOW_FILTER_2X)
    (ZMK_INPUT_AMS_AS5600_SLOW_FILTER_2X << ZMK_INPUT_AMS_AS5600_SLOW_FILTER_BYTE1_SHIFT) |
#endif

/* Fast Filter Threshold */
#if IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_SLOW_ONLY)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_SLOW_FILTER_ONLY << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_6LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_6LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_7LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_7LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_9LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_9LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_18LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_18LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_21LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_21LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_24LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_24LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#elif IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_10LSB)
    (ZMK_INPUT_AMS_AS5600_FAST_FILTER_THRESHOLD_10LSB << ZMK_INPUT_AMS_AS5600_FAST_FILTER_BYTE1_THRESHOLD_SHIFT) |
#endif

/* Watchdog Timer */
#if IS_ENABLED(CONFIG_ZMK_INPUT_AMS_AS5600_WATCHDOG_TIMER)
    (ZMK_INPUT_AMS_AS5600_WATCHDOG_TIMER_ENABLED << ZMK_INPUT_AMS_AS5600_WATCHDOG_TIMER_BYTE1_SHIFT) |
#else
    0x00
#endif
};

#endif /* ZMK_INPUT_AMS_AS5600_CONFIG_H */
